// PostgreSQL Table Builder & Compiler
// -------

'use strict';

var _ = require('lodash');
var inherits = require('inherits');
var TableCompiler = require('../../../schema/tablecompiler');

function TableCompiler_PG() {
  TableCompiler.apply(this, arguments);
}
inherits(TableCompiler_PG, TableCompiler);

// Compile a rename column command.
TableCompiler_PG.prototype.renameColumn = function (from, to) {
  return this.pushQuery({
    sql: 'alter table ' + this.tableName() + ' rename ' + this.formatter.wrap(from) + ' to ' + this.formatter.wrap(to)
  });
};

TableCompiler_PG.prototype.compileAdd = function (builder) {
  var table = this.formatter.wrap(builder);
  var columns = this.prefixArray('add column', this.getColumns(builder));
  return this.pushQuery({
    sql: 'alter table ' + table + ' ' + columns.join(', ')
  });
};

// Adds the "create" query to the query sequence.
TableCompiler_PG.prototype.createQuery = function (columns, ifNot) {
  var createStatement = ifNot ? 'create table if not exists ' : 'create table ';
  this.pushQuery({
    sql: createStatement + this.tableName() + ' (' + columns.sql.join(', ') + ')',
    bindings: columns.bindings
  });
  var hasComment = _.has(this.single, 'comment');
  if (hasComment) this.comment(this.single.comment);
};

// Compiles the comment on the table.
TableCompiler_PG.prototype.comment = function (comment) {
  /*jshint unused: false*/
  this.pushQuery('comment on table ' + this.tableName() + ' is ' + "'" + (this.single.comment || '') + "'");
};

// Indexes:
// -------

TableCompiler_PG.prototype.primary = function (columns) {
  this.pushQuery('alter table ' + this.tableName() + " add primary key (" + this.formatter.columnize(columns) + ")");
};
TableCompiler_PG.prototype.unique = function (columns, indexName) {
  indexName = indexName || this._indexCommand('unique', this.tableNameRaw, columns);
  this.pushQuery('alter table ' + this.tableName() + ' add constraint ' + indexName + ' unique (' + this.formatter.columnize(columns) + ')');
};
TableCompiler_PG.prototype.index = function (columns, indexName, indexType) {
  indexName = indexName || this._indexCommand('index', this.tableNameRaw, columns);
  this.pushQuery('create index ' + indexName + ' on ' + this.tableName() + (indexType && ' using ' + indexType || '') + ' (' + this.formatter.columnize(columns) + ')');
};
TableCompiler_PG.prototype.dropPrimary = function () {
  this.pushQuery('alter table ' + this.tableName() + " drop constraint " + this.tableNameRaw + "_pkey");
};
TableCompiler_PG.prototype.dropIndex = function (columns, indexName) {
  indexName = indexName || this._indexCommand('index', this.tableNameRaw, columns);
  this.pushQuery('drop index ' + indexName);
};
TableCompiler_PG.prototype.dropUnique = function (columns, indexName) {
  indexName = indexName || this._indexCommand('unique', this.tableNameRaw, columns);
  this.pushQuery('alter table ' + this.tableName() + ' drop constraint ' + indexName);
};
TableCompiler_PG.prototype.dropForeign = function (columns, indexName) {
  indexName = indexName || this._indexCommand('foreign', this.tableNameRaw, columns);
  this.pushQuery('alter table ' + this.tableName() + ' drop constraint ' + indexName);
};

module.exports = TableCompiler_PG;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9kaWFsZWN0cy9wb3N0Z3Jlcy9zY2hlbWEvdGFibGVjb21waWxlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUdBLElBQUksQ0FBQyxHQUFlLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUN0QyxJQUFJLFFBQVEsR0FBUSxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDeEMsSUFBSSxhQUFhLEdBQUcsT0FBTyxDQUFDLCtCQUErQixDQUFDLENBQUM7O0FBRTdELFNBQVMsZ0JBQWdCLEdBQUc7QUFDMUIsZUFBYSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUM7Q0FDdEM7QUFDRCxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsYUFBYSxDQUFDLENBQUM7OztBQUcxQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsWUFBWSxHQUFHLFVBQVMsSUFBSSxFQUFFLEVBQUUsRUFBRTtBQUMzRCxTQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7QUFDcEIsT0FBRyxFQUFFLGNBQWMsR0FBRyxJQUFJLENBQUMsU0FBUyxFQUFFLEdBQUcsVUFBVSxHQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7R0FDbEgsQ0FBQyxDQUFDO0NBQ0osQ0FBQzs7QUFFRixnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsVUFBVSxHQUFHLFVBQVMsT0FBTyxFQUFFO0FBQ3hELE1BQUksS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3pDLE1BQUksT0FBTyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUN2RSxTQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7QUFDcEIs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LEdBQUcsT0FBTyxDQUFDLENBQUM7Q0FDdkcsQ0FBQztBQUNGLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxTQUFTLEdBQUcsVUFBUyxPQUFPLEVBQUUsU0FBUyxFQUFFO0FBQ2xFLFdBQVMsR0FBRyxTQUFTLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNqRixNQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsR0FBRyxTQUFTLENBQUMsQ0FBQztDQUMzQyxDQUFDO0FBQ0YsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLFVBQVUsR0FBRyxVQUFTLE9BQU8sRUFBRSxTQUFTLEVBQUU7QUFDbkUsV0FBUyxHQUFHLFNBQVMsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ2xGLE1BQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsR0FBRyxtQkFBbUIsR0FBRyxTQUFTLENBQUMsQ0FBQztDQUNyRixDQUFDO0FBQ0YsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBRyxVQUFTLE9BQU8sRUFBRSxTQUFTLEVBQUU7QUFDcEUsV0FBUyxHQUFHLFNBQVMsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ25GLE1BQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsR0FBRyxtQkFBbUIsR0FBRyxTQUFTLENBQUMsQ0FBQztDQUNyRixDQUFDOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsZ0JBQWdCLENBQUMiLCJmaWxlIjoidGFibGVjb21waWxlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFBvc3RncmVTUUwgVGFibGUgQnVpbGRlciAmIENvbXBpbGVyXG4vLyAtLS0tLS0tXG5cbnZhciBfICAgICAgICAgICAgID0gcmVxdWlyZSgnbG9kYXNoJyk7XG52YXIgaW5oZXJpdHMgICAgICA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgVGFibGVDb21waWxlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3NjaGVtYS90YWJsZWNvbXBpbGVyJyk7XG5cbmZ1bmN0aW9uIFRhYmxlQ29tcGlsZXJfUEcoKSB7XG4gIFRhYmxlQ29tcGlsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cbmluaGVyaXRzKFRhYmxlQ29tcGlsZXJfUEcsIFRhYmxlQ29tcGlsZXIpO1xuXG4vLyBDb21waWxlIGEgcmVuYW1lIGNvbHVtbiBjb21tYW5kLlxuVGFibGVDb21waWxlcl9QRy5wcm90b3R5cGUucmVuYW1lQ29sdW1uID0gZnVuY3Rpb24oZnJvbSwgdG8pIHtcbiAgcmV0dXJuIHRoaXMucHVzaFF1ZXJ5KHtcbiAgICBzcWw6ICdhbHRlciB0YWJsZSAnICsgdGhpcy50YWJsZU5hbWUoKSArICcgcmVuYW1lICcrIHRoaXMuZm9ybWF0dGVyLndyYXAoZnJvbSkgKyAnIHRvICcgKyB0aGlzLmZvcm1hdHRlci53cmFwKHRvKVxuICB9KTtcbn07XG5cblRhYmxlQ29tcGlsZXJfUEcucHJvdG90eXBlLmNvbXBpbGVBZGQgPSBmdW5jdGlvbihidWlsZGVyKSB7XG4gIHZhciB0YWJsZSA9IHRoaXMuZm9ybWF0dGVyLndyYXAoYnVpbGRlcik7XG4gIHZhciBjb2x1bW5zID0gdGhpcy5wcmVmaXhBcnJheSgnYWRkIGNvbHVtbicsIHRoaXMuZ2V0Q29sdW1ucyhidWlsZGVyKSk7XG4gIHJldHVybiB0aGlzLnB1c2hRdWVyeSh7XG4gICAgc3FsOiAnYWx0ZXIgdGFibGUgJyArIHRhYmxlICsgJyAnICsgY29sdW1ucy5qb2luKCcsICcpXG4gIH0pO1xufTtcblxuLy8gQWRkcyB0aGUgXCJjcmVhdGVcIiBxdWVyeSB0byB0aGUgcXVlcnkgc2VxdWVuY2UuXG5UYWJsZUNvbXBpbGVyX1BHLnByb3RvdHlwZS5jcmVhdGVRdWVyeSA9IGZ1bmN0aW9uKGNvbHVtbnMsIGlmTm90KSB7XG4gIHZhciBjcmVhdGVTdGF0ZW1lbnQgPSBpZk5vdCA/ICdjcmVhdGUgdGFibGUgaWYgbm90IGV4aXN0cyAnIDogJ2NyZWF0ZSB0YWJsZSAnO1xuICB0aGlzLnB1c2hRdWVyeSh7XG4gICAgc3FsOiBjcmVhdGVTdGF0ZW1lbnQgKyB0aGlzLnRhYmxlTmFtZSgpICsgJyAoJyArIGNvbHVtbnMuc3FsLmpvaW4oJywgJykgKyAnKScsXG4gICAgYmluZGluZ3M6IGNvbHVtbnMuYmluZGluZ3NcbiAgfSk7XG4gIHZhciBoYXNDb21tZW50ID0gXy5oYXModGhpcy5zaW5nbGUsICdjb21tZW50Jyk7XG4gIGlmIChoYXNDb21tZW50KSB0aGlzLmNvbW1lbnQodGhpcy5zaW5nbGUuY29tbWVudCk7XG59O1xuXG4vLyBDb21waWxlcyB0aGUgY29tbWVudCBvbiB0aGUgdGFibGUuXG5UYWJsZUNvbXBpbGVyX1BHLnByb3RvdHlwZS5jb21tZW50ID0gZnVuY3Rpb24oY29tbWVudCkge1xuICAvKmpzaGludCB1bnVzZWQ6IGZhbHNlKi9cbiAgdGhpcy5wdXNoUXVlcnkoJ2NvbW1lbnQgb24gdGFibGUgJyArIHRoaXMudGFibGVOYW1lKCkgKyAnIGlzICcgKyBcIidcIiArICh0aGlzLnNpbmdsZS5jb21tZW50IHx8ICcnKSArIFwiJ1wiKTtcbn07XG5cbi8vIEluZGV4ZXM6XG4vLyAtLS0tLS0tXG5cblRhYmxlQ29tcGlsZXJfUEcucHJvdG90eXBlLnByaW1hcnkgPSBmdW5jdGlvbihjb2x1bW5zKSB7XG4gIHRoaXMucHVzaFF1ZXJ5KCdhbHRlciB0YWJsZSAnICsgdGhpcy50YWJsZU5hbWUoKSArIFwiIGFkZCBwcmltYXJ5IGtleSAoXCIgKyB0aGlzLmZvcm1hdHRlci5jb2x1bW5pemUoY29sdW1ucykgKyBcIilcIik7XG59O1xuVGFibGVDb21waWxlcl9QRy5wcm90b3R5cGUudW5pcXVlID0gZnVuY3Rpb24oY29sdW1ucywgaW5kZXhOYW1lKSB7XG4gIGluZGV4TmFtZSA9IGluZGV4TmFtZSB8fCB0aGlzLl9pbmRleENvbW1hbmQoJ3VuaXF1ZScsIHRoaXMudGFibGVOYW1lUmF3LCBjb2x1bW5zKTtcbiAgdGhpcy5wdXNoUXVlcnkoJ2FsdGVyIHRhYmxlICcgKyB0aGlzLnRhYmxlTmFtZSgpICsgJyBhZGQgY29uc3RyYWludCAnICsgaW5kZXhOYW1lICtcbiAgICAnIHVuaXF1ZSAoJyArIHRoaXMuZm9ybWF0dGVyLmNvbHVtbml6ZShjb2x1bW5zKSArICcpJyk7XG59O1xuVGFibGVDb21waWxlcl9QRy5wcm90b3R5cGUuaW5kZXggPSBmdW5jdGlvbihjb2x1bW5zLCBpbmRleE5hbWUsIGluZGV4VHlwZSkge1xuICBpbmRleE5hbWUgPSBpbmRleE5hbWUgfHwgdGhpcy5faW5kZXhDb21tYW5kKCdpbmRleCcsIHRoaXMudGFibGVOYW1lUmF3LCBjb2x1bW5zKTtcbiAgdGhpcy5wdXNoUXVlcnkoJ2NyZWF0ZSBpbmRleCAnICsgaW5kZXhOYW1lICsgJyBvbiAnICsgdGhpcy50YWJsZU5hbWUoKSArIChpbmRleFR5cGUgJiYgKCcgdXNpbmcgJyArIGluZGV4VHlwZSkgfHwgJycpICtcbiAgICAnICgnICsgdGhpcy5mb3JtYXR0ZXIuY29sdW1uaXplKGNvbHVtbnMpICsgJyknKTtcbn07XG5UYWJsZUNvbXBpbGVyX1BHLnByb3RvdHlwZS5kcm9wUHJpbWFyeSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnB1c2hRdWVyeSgnYWx0ZXIgdGFibGUgJyArIHRoaXMudGFibGVOYW1lKCkgKyBcIiBkcm9wIGNvbnN0cmFpbnQgXCIgKyB0aGlzLnRhYmxlTmFtZVJhdyArIFwiX3BrZXlcIik7XG59O1xuVGFibGVDb21waWxlcl9QRy5wcm90b3R5cGUuZHJvcEluZGV4ID0gZnVuY3Rpb24oY29sdW1ucywgaW5kZXhOYW1lKSB7XG4gIGluZGV4TmFtZSA9IGluZGV4TmFtZSB8fCB0aGlzLl9pbmRleENvbW1hbmQoJ2luZGV4JywgdGhpcy50YWJsZU5hbWVSYXcsIGNvbHVtbnMpO1xuICB0aGlzLnB1c2hRdWVyeSgnZHJvcCBpbmRleCAnICsgaW5kZXhOYW1lKTtcbn07XG5UYWJsZUNvbXBpbGVyX1BHLnByb3RvdHlwZS5kcm9wVW5pcXVlID0gZnVuY3Rpb24oY29sdW1ucywgaW5kZXhOYW1lKSB7XG4gIGluZGV4TmFtZSA9IGluZGV4TmFtZSB8fCB0aGlzLl9pbmRleENvbW1hbmQoJ3VuaXF1ZScsIHRoaXMudGFibGVOYW1lUmF3LCBjb2x1bW5zKTtcbiAgdGhpcy5wdXNoUXVlcnkoJ2FsdGVyIHRhYmxlICcgKyB0aGlzLnRhYmxlTmFtZSgpICsgJyBkcm9wIGNvbnN0cmFpbnQgJyArIGluZGV4TmFtZSk7XG59O1xuVGFibGVDb21waWxlcl9QRy5wcm90b3R5cGUuZHJvcEZvcmVpZ24gPSBmdW5jdGlvbihjb2x1bW5zLCBpbmRleE5hbWUpIHtcbiAgaW5kZXhOYW1lID0gaW5kZXhOYW1lIHx8IHRoaXMuX2luZGV4Q29tbWFuZCgnZm9yZWlnbicsIHRoaXMudGFibGVOYW1lUmF3LCBjb2x1bW5zKTtcbiAgdGhpcy5wdXNoUXVlcnkoJ2FsdGVyIHRhYmxlICcgKyB0aGlzLnRhYmxlTmFtZSgpICsgJyBkcm9wIGNvbnN0cmFpbnQgJyArIGluZGV4TmFtZSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRhYmxlQ29tcGlsZXJfUEc7XG4iXX0=